<!DOCTYPE html>
<html lang="en"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{page-layout}">
<head>
    <title>Articles</title>

    <!-- Plugins css -->
    <link th:href="@{/libs/quill/quill.core.css}" rel="stylesheet" type="text/css"/>
    <link th:href="@{/libs/quill/quill.bubble.css}" rel="stylesheet" type="text/css"/>
    <link th:href="@{/libs/quill/quill.snow.css}" rel="stylesheet" type="text/css"/>
</head>

<div layout:fragment="main">
    <div class="modal fade" id="custom-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
         role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-light">
                    <h4 class="modal-title" id="custom-title" style="width: 90%">
                        <label for="title">Title:</label>
                        <input type="text" id="title" name="title" oninput="this.size = this.value.length"
                               style="margin-left: 5px; max-width: 90%; min-width: 206px" disabled>
                    </h4>
                    <button type="button" class="btn btn-danger waves-effect waves-light" data-bs-dismiss="modal"
                            aria-hidden="true" onclick="clearEditorContent()"><i class="mdi mdi-close"></i></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="row">
                            <div class="col-xl-12">
                                <div class="card">
                                    <div class="card-body">
                                        <ul class="nav nav-tabs">
                                            <li class="nav-item">
                                                <a id="view-article-tab" href="#view-article"
                                                   data-bs-toggle="tab" aria-expanded="false"
                                                   class="nav-link active" onclick="toggleTitleEditing()">
                                                    View article
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a id="edit-article-tab" href="#edit-article"
                                                   data-bs-toggle="tab" aria-expanded="true"
                                                   class="nav-link" onclick="toggleTitleEditing()">
                                                    Edit article
                                                </a>
                                            </li>
                                        </ul>

                                        <div class="tab-content">
                                            <div class="tab-pane show active" id="view-article">
                                                <div class="col-12">
                                                    <div class="card">
                                                        <div class="card-body">
                                                            <div id="bubble-editor"></div> <!-- end Snow-editor-->
                                                        </div> <!-- end card-body-->
                                                    </div> <!-- end card-->
                                                </div><!-- end col -->
                                            </div>

                                            <div class="tab-pane" id="edit-article">
                                                <div class="col-12">
                                                    <div class="card">
                                                        <div class="card-body">
                                                            <div id="snow-editor">
                                                                <h3>Your article content here...</h3>
                                                            </div> <!-- end Snow-editor-->
                                                        </div> <!-- end card-body-->
                                                    </div> <!-- end card-->
                                                </div><!-- end col -->
                                            </div>

                                            <div id="publish-button-div" style="text-align: center;">
                                                <button type="button" class="btn btn-success waves-effect waves-light">
                                                    Publish now
                                                    <span class="btn-label-right"><i
                                                            class="mdi mdi-18px mdi-publish"></i></span>
                                                </button>
                                            </div>
                                            <div id="update-button-div" style="text-align: center;">
                                                <button type="button" class="btn btn-info waves-effect waves-light">
                                                    Update
                                                    <span class="btn-label-right"><i
                                                            class="mdi mdi-18px mdi-update"></i></span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div> <!-- end card-->
                            </div> <!-- end col -->
                        </div> <!-- end row -->
                    </form>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <button class="btn btn-lg font-16 btn-success" id="btn-new-event" data-bs-toggle="modal" style="margin-bottom: 30px"
            data-bs-target="#custom-modal" onclick="expandEditArticleTab(); articleType='new'">
        <i class="fa fa-plus me-1"></i> Create new
    </button>
    <br>
    <div class="row">
        <div class="col-xl-4">
            <div class="card">
                <div class="card-body project-box">
                    <div class="badge bg-success float-end">Completed</div>
                    <h4 class="mt-0"><a href="" class="text-dark">New Admin Design</a></h4>
                    <p class="text-success text-uppercase font-13">Web Design</p>
                    <p class="text-muted font-13">If several languages coalesce the grammar is more simple and regular
                        than that of the individual languages...<a href="#" class="text-primary">View more</a>
                    </p>

                    <ul class="list-inline">
                        <li class="list-inline-item me-4">
                            <h4 class="mb-0">56</h4>
                            <p class="text-muted">Questions</p>
                        </li>
                        <li class="list-inline-item">
                            <h4 class="mb-0">452</h4>
                            <p class="text-muted">Comments</p>
                        </li>
                    </ul>

                    <div class="project-members mb-2">
                        <h5 class="float-start me-3">Team :</h5>
                        <div class="avatar-group">
                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="Mat Helme">
                                <img th:src="@{/images/users/user-1.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>

                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="Michael Zenaty">
                                <img th:src="@{/images/users/user-2.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>

                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="James Anderson">
                                <img th:src="@{/images/users/user-3.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>

                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="Mat Helme">
                                <img th:src="@{/images/users/user-4.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>
                        </div>
                    </div>

                    <div style="text-align: center;">
                        <button type="button" class="btn btn-info waves-effect waves-light rounded-pill"
                                data-bs-toggle="modal" data-bs-target="#custom-modal"
                                onclick="expandViewArticleTab(); articleType='update'">View
                        </button>
                        &nbsp;
                        <button type="button" class="btn btn-danger waves-effect waves-light rounded-pill">
                            Delete
                        </button>
                    </div>
                </div>
            </div>
        </div><!-- end col-->

        <div class="col-xl-4">
            <div class="card">
                <div class="card-body project-box">
                    <div class="badge bg-primary float-end">Completed</div>
                    <h4 class="mt-0"><a href="" class="text-dark">App Design and Develop</a></h4>
                    <p class="text-primary text-uppercase font-13">Android</p>
                    <p class="text-muted font-13">New common language will be more simple and regular than the existing
                        European languages...<a href="#" class="text-primary">View more</a>
                    </p>

                    <ul class="list-inline">
                        <li class="list-inline-item me-4">
                            <h4 class="mb-0">77</h4>
                            <p class="text-muted">Questions</p>
                        </li>
                        <li class="list-inline-item">
                            <h4 class="mb-0">875</h4>
                            <p class="text-muted">Comments</p>
                        </li>
                    </ul>

                    <div class="project-members mb-2">
                        <h5 class="float-start me-3">Team :</h5>
                        <div class="avatar-group">
                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="Mat Helme">
                                <img th:src="@{/images/users/user-5.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>

                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="Michael Zenaty">
                                <img th:src="@{/images/users/user-6.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>

                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="James Anderson">
                                <img th:src="@{/images/users/user-7.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>
                        </div>
                    </div>

                    <div style="text-align: center;">
                        <button type="button" class="btn btn-info waves-effect waves-light rounded-pill"
                                data-bs-toggle="modal" data-bs-target="#custom-modal"
                                onclick="expandViewArticleTab(); articleType='update'">View
                        </button>
                        &nbsp;
                        <button type="button" class="btn btn-danger waves-effect waves-light rounded-pill">
                            Delete
                        </button>
                    </div>
                </div>
            </div>
        </div><!-- end col-->

        <div class="col-xl-4">
            <div class="card">
                <div class="card-body project-box">
                    <div class="badge bg-pink float-end">Completed</div>
                    <h4 class="mt-0"><a href="" class="text-dark">Landing page Design</a></h4>
                    <p class="text-pink text-uppercase font-13">Web Design</p>
                    <p class="text-muted font-13">It will be as simple as occidental in fact it will be to an english
                        person it will seem like simplified English...<a href="#" class="text-primary">view more</a>
                    </p>

                    <ul class="list-inline">
                        <li class="list-inline-item me-4">
                            <h4 class="mb-0">87</h4>
                            <p class="text-muted">Questions</p>
                        </li>
                        <li class="list-inline-item">
                            <h4 class="mb-0">125</h4>
                            <p class="text-muted">Comments</p>
                        </li>
                    </ul>

                    <div class="project-members mb-2">
                        <h5 class="float-start me-3">Team :</h5>
                        <div class="avatar-group">
                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="Mat Helme">
                                <img th:src="@{/images/users/user-8.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>

                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="Michael Zenaty">
                                <img th:src="@{/images/users/user-9.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>

                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="James Anderson">
                                <img th:src="@{/images/users/user-10.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>

                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="Mat Helme">
                                <img th:src="@{/images/users/user-1.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>

                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="Joel Heffner">
                                <img th:src="@{/images/users/user-2.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>
                        </div>
                    </div>

                    <div style="text-align: center;">
                        <button type="button" class="btn btn-info waves-effect waves-light rounded-pill"
                                data-bs-toggle="modal" data-bs-target="#custom-modal"
                                onclick="expandViewArticleTab(); articleType='update'">View
                        </button>
                        &nbsp;
                        <button type="button" class="btn btn-danger waves-effect waves-light rounded-pill">
                            Delete
                        </button>
                    </div>
                </div>
            </div>
        </div><!-- end col-->
    </div>
    <!-- end row -->

    <div class="row">
        <div class="col-xl-4">
            <div class="card">
                <div class="card-body project-box">
                    <div class="badge bg-purple float-end">Completed</div>
                    <h4 class="mt-0"><a href="" class="text-dark">App Design and Develop</a></h4>
                    <p class="text-purple text-uppercase font-13">Android</p>
                    <p class="text-muted font-13">Everyone realizes why a new common language would be desirable one
                        could refuse to pay expensive translators...<a href="#" class="text-primary">view more</a>
                    </p>

                    <ul class="list-inline">
                        <li class="list-inline-item me-4">
                            <h4 class="mb-0">77</h4>
                            <p class="text-muted">Questions</p>
                        </li>
                        <li class="list-inline-item">
                            <h4 class="mb-0">875</h4>
                            <p class="text-muted">Comments</p>
                        </li>
                    </ul>

                    <div class="project-members mb-2">
                        <h5 class="float-start me-3">Team :</h5>
                        <div class="avatar-group">
                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="Mat Helme">
                                <img th:src="@{/images/users/user-8.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>

                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="Michael Zenaty">
                                <img th:src="@{/images/users/user-9.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>

                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="James Anderson">
                                <img th:src="@{/images/users/user-10.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>

                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="Mat Helme">
                                <img th:src="@{/images/users/user-1.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>

                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="Joel Heffner">
                                <img th:src="@{/images/users/user-2.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>
                        </div>
                    </div>

                    <div style="text-align: center;">
                        <button type="button" class="btn btn-info waves-effect waves-light rounded-pill"
                                data-bs-toggle="modal" data-bs-target="#custom-modal"
                                onclick="expandViewArticleTab(); articleType='update'">View
                        </button>
                        &nbsp;
                        <button type="button" class="btn btn-danger waves-effect waves-light rounded-pill">
                            Delete
                        </button>
                    </div>
                </div>
            </div>
        </div><!-- end col-->

        <div class="col-xl-4">
            <div class="card">
                <div class="card-body project-box">
                    <div class="badge bg-danger float-end">Completed</div>
                    <h4 class="mt-0"><a href="" class="text-dark">Landing page Design</a></h4>
                    <p class="text-danger text-uppercase font-13">Web Design</p>
                    <p class="text-muted font-13">At vero eos et accusamus et iusto odio dignissimos ducimus qui
                        blanditiis praesentium deleniti...<a href="#" class="text-primary">view more</a>
                    </p>

                    <ul class="list-inline">
                        <li class="list-inline-item me-4">
                            <h4 class="mb-0">87</h4>
                            <p class="text-muted">Questions</p>
                        </li>
                        <li class="list-inline-item">
                            <h4 class="mb-0">125</h4>
                            <p class="text-muted">Comments</p>
                        </li>
                    </ul>

                    <div class="project-members mb-2">
                        <h5 class="float-start me-3">Team :</h5>
                        <div class="avatar-group">
                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="Mat Helme">
                                <img th:src="@{/images/users/user-6.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>

                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="Michael Zenaty">
                                <img th:src="@{/images/users/user-7.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>

                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="James Anderson">
                                <img th:src="@{/images/users/user-8.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>

                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="Mat Helme">
                                <img th:src="@{/images/users/user-9.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>
                        </div>
                    </div>

                    <div style="text-align: center;">
                        <button type="button" class="btn btn-info waves-effect waves-light rounded-pill"
                                data-bs-toggle="modal" data-bs-target="#custom-modal"
                                onclick="expandViewArticleTab(); articleType='update'">View
                        </button>
                        &nbsp;
                        <button type="button" class="btn btn-danger waves-effect waves-light rounded-pill">
                            Delete
                        </button>
                    </div>
                </div>
            </div>
        </div><!-- end col-->

        <div class="col-xl-4">
            <div class="card">
                <div class="card-body project-box">
                    <div class="badge bg-warning float-end">Completed</div>
                    <h4 class="mt-0"><a href="" class="text-dark">New Admin Design</a></h4>
                    <p class="text-warning text-uppercase font-13">Web Design</p>
                    <p class="text-muted font-13">Their separate existence is a myth. For science, music, sport, etc,
                        Europe uses the same vocabulary....<a href="#" class="text-primary">view more</a>
                    </p>

                    <ul class="list-inline">
                        <li class="list-inline-item me-4">
                            <h4 class="mb-0">56</h4>
                            <p class="text-muted">Questions</p>
                        </li>
                        <li class="list-inline-item">
                            <h4 class="mb-0">452</h4>
                            <p class="text-muted">Comments</p>
                        </li>
                    </ul>

                    <div class="project-members mb-2">
                        <h5 class="float-start me-3">Team :</h5>
                        <div class="avatar-group">
                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="Mat Helme">
                                <img th:src="@{/images/users/user-1.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>

                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="Michael Zenaty">
                                <img th:src="@{/images/users/user-2.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>

                            <a href="#" class="avatar-group-item" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="James Anderson">
                                <img th:src="@{/images/users/user-3.jpg}" class="rounded-circle avatar-sm"
                                     alt="friend"/>
                            </a>
                        </div>
                    </div>

                    <div style="text-align: center;">
                        <button type="button" class="btn btn-info waves-effect waves-light rounded-pill"
                                data-bs-toggle="modal" data-bs-target="#custom-modal"
                                onclick="expandViewArticleTab(); articleType='update'">View
                        </button>
                        &nbsp;
                        <button type="button" class="btn btn-danger waves-effect waves-light rounded-pill">
                            Delete
                        </button>
                    </div>
                </div>
            </div>
        </div><!-- end col-->
    </div>
    <!-- end row -->

    <!-- Plugins js -->
    <script th:src="@{/libs/quill/quill.min.js}"></script>
    <script th:src="@{/libs/moment/min/moment.min.js}"></script>

    <!-- Init js -->
    <script th:src="@{/js/pages/form-quilljs.init.js}"></script>

    <!-- Custom script -->
    <script>
        // Variable that stores the type of the article (new or update).
        let articleType;

        // Change page title.
        const title = document.getElementsByClassName("page-title-main");
        title[0].textContent = "Articles";

        // Disable the editor of the view announcement.
        const editors = document.getElementsByClassName("ql-editor");
        editors[0].setAttribute("contenteditable", "false");

        // Function that expands the edit article tab.
        function expandEditArticleTab() {
            const editArticleTab = document.getElementById("edit-article-tab");
            const viewArticleTab = document.getElementById("view-article-tab");
            const editArticleTabContent = document.getElementById("edit-article");
            const viewArticleTabContent = document.getElementById("view-article");
            const title = document.getElementById("title");

            editArticleTab.setAttribute("aria-expanded", "true");
            editArticleTab.classList.add("active");
            editArticleTabContent.classList.add("show", "active");
            viewArticleTab.setAttribute("aria-expanded", "false");
            viewArticleTab.classList.remove("active");
            viewArticleTabContent.classList.remove("show", "active");
            title.removeAttribute("disabled");

            showPublishButton();
        }

        // Function that expands the view article tab.
        function expandViewArticleTab() {
            const editArticleTab = document.getElementById("edit-article-tab");
            const viewArticleTab = document.getElementById("view-article-tab");
            const editArticleTabContent = document.getElementById("edit-article");
            const viewArticleTabContent = document.getElementById("view-article");
            const title = document.getElementById("title");

            editArticleTab.setAttribute("aria-expanded", "false");
            editArticleTab.classList.remove("active");
            editArticleTabContent.classList.remove("show", "active");
            viewArticleTab.setAttribute("aria-expanded", "true");
            viewArticleTab.classList.add("active");
            viewArticleTabContent.classList.add("show", "active");
            title.setAttribute("disabled", "true");

            showUpdateButton();
        }

        // Function that shows publish button.
        function showPublishButton() {
            const publishButtonDiv = document.getElementById("publish-button-div");
            const updateButtonDiv = document.getElementById("update-button-div");

            publishButtonDiv.style.display = "block";
            updateButtonDiv.style.display = "none";
        }

        // Function that shows update button.
        function showUpdateButton() {
            const publishButtonDiv = document.getElementById("publish-button-div");
            const updateButtonDiv = document.getElementById("update-button-div");

            publishButtonDiv.style.display = "none";
            updateButtonDiv.style.display = "block";
        }

        // Function that enable/disable editing of an article title.
        function toggleTitleEditing() {
            const title = document.getElementById("title");

            if (title.hasAttribute("disabled")) {
                title.removeAttribute("disabled");
            } else {
                title.setAttribute("disabled", "true");
                // Copy the content of the edit article editor to the view article editor.
                editors[0].innerHTML = editors[1].innerHTML;
            }
        }

        // Function that clear the content of the editor.
        function clearEditorContent() {
            const title = document.getElementById("title");
            title.value = "";
            title.removeAttribute("size"); // Reset the size of the input.
            editors.forEach(function (item) {
                item.innerHTML = "<h3>Your article content here...</h3>";
            });
        }
    </script>
</div>
</html>